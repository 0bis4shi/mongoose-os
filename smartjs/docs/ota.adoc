== OTA (over-the-air programming)

Smart.js OTA is designed to provide ability to update firmware on the device
over Internet, without connecting it to computer and using Flash'n'Chips.

In order to use the following steps the device must be registered in
Cesanta Cloud (see Quick Start Guide for details).

Open https://dashboard.cesanta.com/#/ota in your favourite browser.

image:smartjs/ota1.png[width="75%",align="center"]

Then press "select .zip archive", point zip-file with new firmware and then
press "Upload new firmware".
The firmware will be uploaded to server, it may take a while.

image:smartjs/ota2.png[width="75%",align="center"]

Next step is a creation of rollout. Rollout is a set of devices, which
must use the same firmware.
Fill "Rollout name", then choose firmware from dropdown list, and fill
"Filter" field. For example, if you want to apply new firmware to all
esp8266 in the project, use `arch=esp8266` as a filter.
Press "Add new rollout".

image:smartjs/ota3.png[width="75%",align="center"]

Once rollout is created, server starts to send notification about new firmware
to devices. The device can be offline, at the rollout creation moment, it will
receive notification when it will come online.

You can monitor update status in "State" field.
`inProgress` means that server is sending notifications.
`finished` means, that all noitifications was sent.

Once `State` becomes `finished` you can open https://dashboard.cesanta.com/#/devices,
click link in `Id` column and check if `fw_version` field contains
new version.

image:smartjs/ota4.png[width="75%",align="center"]

